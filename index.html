<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My Personal Website</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            padding: 0;
            background: #f0f0f0;
            color: #333;
        }
        .container {
            max-width: 900px;
            margin: auto;
            padding: 20px;
            background: white;
        }
        h1, h2, h3, h4 {
            color: #007acc;
        }
        img {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
        }
        .images {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        .section {
            margin-bottom: 40px;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        /* Different background colors for each section */
        .about-section {
            background-color: #e3f2fd;
        }
        .images-section {
            background-color: #f1f8e9;
        }
        .education-section {
            background-color: #fff3e0;
        }
        .skills-section {
            background-color: #e8f5e9;
        }
        .cv-section {
            background-color: #fce4ec;
        }
        .subsection {
            margin-top: 20px;
            background-color: #ffffff;
            padding: 15px;
            border-radius: 6px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        a {
            color: #007acc;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        #textInput {
            width: 100%;
            min-height: 200px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: 'Poppins', sans-serif;
        }
        button {
            background-color: #007acc;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-family: 'Poppins', sans-serif;
            margin-top: 10px;
        }
        button:hover {
            background-color: #005a9c;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Welcome to My Personal Website</h1>
        <div class="section about-section">
            <h2>About Me</h2>
            <p>Hello, I am G.Sasi Kumar. I am 19 years old, a passionate learner and aspiring tech enthusiast from Dharmavaram, Andhra Pradesh. I love building things with code, exploring new technologies, and working on exciting projects.</p>
        </div>
        <div class="section images-section">
            <h2>My Pictures</h2>
            <img src="./images/mypic.jpeg" alt="Profile Picture">
            <div class="images">
                <img src="./images/dhm1.jpeg" alt="Birthplace Image 1">
                <img src="./images/dhm2.jpeg" alt="Birthplace Image 2">
            </div>
        </div>
        <div class="section education-section">
            <h2>Education</h2>
            <p>I am currently studying B.Tech at the prestigious IIIT Hyderabad. I studied intermediate in Narayana School. I have done my schooling till 5th at Jeevana Jyothi School and I studied till 10th at Viswabhaathi. Some of my achievements include:</p>
            <ul>
                <li>Top one percentage in Science Olympiad</li>
                <li>580 marks in tenth class board examination</li>
                <li>970 marks in intermediate</li>
                <li>99.92 percentile in JEE Main</li>
                <li>Admission in IIIT Hyderabad</li>
            </ul>
        </div>
        <div class="section skills-section">
            <h2>Technical Skills</h2>
            <ul>
                <li><strong>Beginner:</strong> HTML, CSS, Python</li>
                <li><strong>Intermediate:</strong> C++, JavaScript</li>
                <li><strong>Advanced:</strong> Data Structures & Algorithms, Git</li>
            </ul>
        </div>
        <div class="section cv-section">
            <h2>My CV</h2>
            <p>You can view my CV <a href="cv.pdf" target="_blank">here</a>.</p>
        </div>
        <div class="section" style="background-color: #e0f7fa;">
            <h2>Text Analysis Tool</h2>
            <div class="subsection">
                <label for="textInput">Enter text (10000+ words):</label><br>
                <textarea id="textInput" rows="10"></textarea><br>
                <button id="analyzeBtn">Analyze Text</button>
            </div>
            <div class="subsection" id="analysisResults">
                <h3>Analysis Results</h3>
                <div id="basicCounts"></div>
                <div id="pronounCounts"></div>
                <div id="prepositionCounts"></div>
                <div id="articleCounts"></div>
            </div>
        </div>
    </div>

    <script>
        // Function to track all clicks and page views
        document.addEventListener("DOMContentLoaded", function() {
            // Track page view when the page loads
            const timestamp = new Date().toISOString();
            console.log(`${timestamp}, view, page`);
            
            // Track clicks on all elements
            document.addEventListener("click", function(event) {
                const timestamp = new Date().toISOString();
                let elementType = "unknown";
                
                // Determine the type of element clicked
                if (event.target.tagName === "IMG") {
                    elementType = "image";
                } else if (event.target.tagName === "A") {
                    elementType = "link";
                } else if (event.target.tagName === "P") {
                    elementType = "text paragraph";
                } else if (event.target.tagName === "LI") {
                    elementType = "list item";
                } else if (event.target.tagName === "H1" || event.target.tagName === "H2") {
                    elementType = "heading";
                } else if (event.target.tagName === "UL") {
                    elementType = "list";
                } else if (event.target.tagName === "DIV") {
                    elementType = "section";
                } else if (event.target.tagName === "INPUT" || event.target.tagName === "TEXTAREA") {
                    elementType = "text input";
                } else if (event.target.tagName === "SELECT") {
                    elementType = "drop-down";
                } else if (event.target.tagName === "BUTTON") {
                    elementType = "button";
                }
                
                console.log(`${timestamp}, click, ${elementType}`);
            });
            
            // Track when elements come into view
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const timestamp = new Date().toISOString();
                        let elementType = "unknown";
                        
                        if (entry.target.tagName === "IMG") {
                            elementType = "image";
                        } else if (entry.target.classList.contains("section")) {
                            elementType = "section";
                        }
                        
                        console.log(`${timestamp}, view, ${elementType}`);
                        
                        // Unobserve after it's been viewed once
                        observer.unobserve(entry.target);
                    }
                });
            });
            
            // Observe all images and sections
            document.querySelectorAll("img, .section").forEach(el => {
                observer.observe(el);
            });
            
            // Add event listener to the analyze button
            document.getElementById("analyzeBtn").addEventListener("click", analyzeText);
        });

        // Function to analyze text
        function analyzeText() {
            const text = document.getElementById("textInput").value;
            
            if (text.length === 0) {
                alert("Please enter some text to analyze.");
                return;
            }
            
            // Task 1: Calculate basic counts
            const letters = text.replace(/[^a-zA-Z]/g, "").length;
            const words = text.trim().split(/\s+/).length;
            const spaces = text.split(" ").length - 1;
            const newlines = text.split("\n").length - 1;
            const specialSymbols = text.replace(/[a-zA-Z0-9\s]/g, "").length;
            
            // Display basic counts
            document.getElementById("basicCounts").innerHTML = `
                <h4>Basic Counts</h4>
                <ul>
                    <li>Letters: ${letters}</li>
                    <li>Words: ${words}</li>
                    <li>Spaces: ${spaces}</li>
                    <li>Newlines: ${newlines}</li>
                    <li>Special Symbols: ${specialSymbols}</li>
                </ul>
            `;
            
            // Task 2: Count pronouns
            const pronouns = [
                "i", "me", "my", "mine", "myself",
                "you", "your", "yours", "yourself", "yourselves",
                "he", "him", "his", "himself",
                "she", "her", "hers", "herself",
                "it", "its", "itself",
                "we", "us", "our", "ours", "ourselves",
                "they", "them", "their", "theirs", "themselves",
                "who", "whom", "whose"
            ];
            
            const pronounCounts = countTokens(text, pronouns);
            displayCounts("pronounCounts", "Pronouns", pronounCounts);
            
            // Task 3: Count prepositions
            const prepositions = [
                "about", "above", "across", "after", "against", "along", "amid", "among",
                "around", "at", "before", "behind", "below", "beneath", "beside", "between",
                "beyond", "by", "concerning", "despite", "down", "during", "except", "for",
                "from", "in", "inside", "into", "like", "near", "of", "off", "on", "onto",
                "out", "outside", "over", "past", "regarding", "since", "through", "throughout",
                "to", "toward", "towards", "under", "underneath", "until", "unto", "up", 
                "upon", "with", "within", "without"
            ];
            
            const prepositionCounts = countTokens(text, prepositions);
            displayCounts("prepositionCounts", "Prepositions", prepositionCounts);
            
            // Task 4: Count indefinite articles
            const articles = ["a", "an", "the"];
            
            const articleCounts = countTokens(text, articles);
            displayCounts("articleCounts", "Articles", articleCounts);
        }

        // Helper function to count tokens
        function countTokens(text, tokenList) {
            const tokenCounts = {};
            
            // Initialize counts to zero
            tokenList.forEach(token => {
                tokenCounts[token] = 0;
            });
            
            // Split text into words and count occurrences of tokens
            const words = text.toLowerCase().match(/\b\w+\b/g) || [];
            
            // Count each occurrence
            words.forEach(word => {
                if (tokenList.includes(word)) {
                    tokenCounts[word]++;
                }
            });
            
            return tokenCounts;
        }

        // Helper function to display counts
        function displayCounts(elementId, title, counts) {
            const container = document.getElementById(elementId);
            
            let html = `<h4>${title} Count</h4><ul>`;
            
            // Filter to only show tokens that appear at least once
            const usedTokens = Object.entries(counts).filter(([token, count]) => count > 0);
            
            if (usedTokens.length === 0) {
                html += `<li>No ${title.toLowerCase()} found in the text.</li>`;
            } else {
                usedTokens.forEach(([token, count]) => {
                    html += `<li>${token}: ${count}</li>`;
                });
            }
            
            html += "</ul>";
            container.innerHTML = html;
        }
    </script>
</body>
</html>
